(this["webpackJsonpreforum-ipfs"]=this["webpackJsonpreforum-ipfs"]||[]).push([[0],{101:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",loadingWrapper:"styles_loadingWrapper__1r2cv",errorMsg:"styles_errorMsg__3WoNY",signInMsg:"styles_signInMsg__3bMaN"}},102:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",container:"styles_container__68klE",avatarContainer:"styles_avatarContainer__1TpHj",avatar:"styles_avatar__HYwig",infoContainer:"styles_infoContainer__3D8HQ",name:"styles_name__2SfKV",gitHandler:"styles_gitHandler__2WjFp",location:"styles_location__k2BLp"}},115:function(e,t,n){e.exports={logoContainer:"styles_logoContainer__5iU05",logo:"styles_logo__zU5P-",logoTitle:"styles_logoTitle__1V39j"}},116:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",borderColor:"#e8e8e8",smallBP:"(max-width: 768px)",container:"styles_container__2JuVe",count:"styles_count__1eOtj",label:"styles_label__78E53"}},117:function(e,t,n){e.exports={secondaryFontColor:"#999",backShade:"#f9f9f9",tag:"styles_tag__w-k5X",tagWithRemove:"styles_tagWithRemove__39-Sh",removeButton:"styles_removeButton__LDxi8"}},118:function(e,t,n){e.exports={largeBP:"(min-width: 1100px)",contentArea:"styles_contentArea__L8v3p",newDiscussionBtn:"styles_newDiscussionBtn__3rEEg",errorMsg:"styles_errorMsg__3dngL"}},119:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",borderColor:"#e8e8e8",smallBP:"(max-width: 768px)",container:"styles_container__19Ms9",label:"styles_label__3SOgA",btnContainer:"styles_btnContainer__4Rups",button:"styles_button___K1-a"}},120:function(e,t,n){e.exports={largeBP:"(min-width: 1100px)",container:"styles_container__2YkU5",loadingMsg:"styles_loadingMsg__2NefF",errorMsg:"styles_errorMsg__1hFKp"}},212:function(e,t,n){e.exports={smallBP:"(max-width: 768px)",headerTop:"styles_headerTop__2STOP"}},214:function(e,t,n){e.exports={smallBP:"(max-width: 768px)",mediumBP:"(min-width: 769px) and (max-width: 1099px)",largeBP:"(min-width: 1100px)",contentArea:"styles_contentArea__15uug"}},215:function(e,t,n){e.exports={smallBP:"(max-width: 768px)",headerTop:"styles_headerTop__3dMT3"}},216:function(e,t,n){e.exports={smallBP:"(max-width: 768px)",mediumBP:"(min-width: 769px) and (max-width: 1099px)",largeBP:"(min-width: 1100px)",sidebarContainer:"styles_sidebarContainer__2xxnG"}},219:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",loadingWrapper:"styles_loadingWrapper__Z4elJ"}},23:function(e,t,n){e.exports={largeBP:"(min-width: 1100px)",mediumBP:"(min-width: 769px) and (max-width: 1099px)",smallBP:"(max-width: 768px)",constraintWidth:"appLayout_constraintWidth__2DEFw",primaryContent:"appLayout_primaryContent__3PC2E",secondaryContent:"appLayout_secondaryContent__2M6DX",showOnMediumBP:"appLayout_showOnMediumBP__3Vpn7"}},28:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",borderColor:"#e8e8e8",smallBP:"(max-width: 768px)",container:"styles_container__3HYxk",title:"styles_title__1T3iZ",forumsContainer:"styles_forumsContainer__1M3uf",forum:"styles_forum__3FhNu",forumTitle:"styles_forumTitle__2GzW6",forumSlug:"styles_forumSlug__M8sd2",createForumContainer:"styles_createForumContainer__1syq_",createTitle:"styles_createTitle__1E7jF",createForum:"styles_createForum__1Xwta",createInputContainer:"styles_createInputContainer__3KEWx",inputLabel:"styles_inputLabel__1M894",createInput:"styles_createInput__3n3TP",errorMsg:"styles_errorMsg__yUuIj",loadingMsg:"styles_loadingMsg__2On4U"}},281:function(e,t){},283:function(e,t){},296:function(e,t){},30:function(e,t,n){e.exports={borderColor:"#e8e8e8",secondaryFontColor:"#999",primaryFontColor:"#000",backShade:"#f9f9f9",smallBP:"(max-width: 768px)",container:"styles_container__2uHjJ",readOnlyContainer:"styles_readOnlyContainer__2C4vO",editorContainer:"styles_editorContainer__3F-dj",readOnlyEditorContainer:"styles_readOnlyEditorContainer__14ADF",buttonClass:"styles_buttonClass__TkIjr",newDiscussion:"styles_newDiscussion__3O9MQ",controlsContainer:"styles_controlsContainer__1vVdw",controls:"styles_controls__hwMJC",controlButton:"styles_controlButton__111iW",controlButtonActive:"styles_controlButtonActive__vhQcu",editorBlockquoteStyle:"styles_editorBlockquoteStyle__Hw_15",editorCodeStyle:"styles_editorCodeStyle__3CdMh",editorH1Style:"styles_editorH1Style__1fF7S",editorH2Style:"styles_editorH2Style__1lX9x",editorH3Style:"styles_editorH3Style__2oMEm"}},37:function(e,t,n){e.exports={borderColor:"#e8e8e8",secondaryFontColor:"#999",primaryFontColor:"#000",smallBP:"(max-width: 768px)",container:"styles_container__1bHvf",infoContainer:"styles_infoContainer__3wspi",columnOnSmallBP:"styles_columnOnSmallBP__cLdkW",dateInfo:"styles_dateInfo__2aqF0",userInfo:"styles_userInfo__28H9h",name:"styles_name__1L6ry",gitHandler:"styles_gitHandler__3xGA4",gitIcon:"styles_gitIcon__2vsWT",avatar:"styles_avatar__1ZB-I",discTitle:"styles_discTitle__2dSvS",discContent:"styles_discContent__2Wd2W",discFooter:"styles_discFooter__1M1Tt",tags:"styles_tags__3fywo",favoriteButton:"styles_favoriteButton__bm0o-",deleteButton:"styles_deleteButton__2IelD",deletingDiscussion:"styles_deletingDiscussion__7PXgg"}},394:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n(0),r=n.n(i),o=n(14),a=n.n(o),c=n(16),u=n(27),l=n(83),d=n.n(l),p=n(65),g=n(209),h="update_current_forum",f="start_fetching_forums",m="stop_fetching_forums",j="fetching_forums_success",_="fetching_forums_failure",b="start_fetching_user",y="fetching_user_success",v="fetching_user_failure",O="start_fetching_network_status",x="stop_fetching_network_status",C="fetching_network_status_success",S="fetching_network_status_failure",k={fetchingForums:!1,forums:null,currentForum:"general",error:!1},N={fetchingNetworkStatus:!1,networkStatus:null,error:!1},F={fetchingUser:!0,authenticated:!1,error:null,_id:null,name:null,email:null,username:null,avatarUrl:null,githubUrl:null,githubLocation:null,githubBio:null,role:null},w="start_fetching_discussions",D="stop_fetching_discussions",I="fetching_discussions_success",M="fetching_discussions_failure",P="start_fetching_pinned_discussions",B="stop_fetching_pinned_discussions",T="fetching_pinned_discussions_success",A="fetching_pinned_discussions_failure",E="update_sorting_method",U="invalid_forum",L={fetchingDiscussions:!0,discussions:null,fetchingPinnedDiscussions:!0,pinnedDiscussions:null,sortingMethod:"date",error:null},H="fetching_single_discussion_start",W="fetching_single_discussion_end",R="fetching_single_discussion_success",q="fetching_single_discussion_failure",z="toggle_favorite_start",J="toggle_favorite_success",V="toggle_favorite_failure",G="update_opinion_content",K="posting_opinion_start",X="posting_opinion_success",Y="posting_opinion_failure",Q="delete_disc_start",Z="delete_disc_success",$="delete_disc_failure",ee="delete_disc_redirect",te="delete_opinion_start",ne="delete_opinion_success",se="delete_opinion_failure",ie={fetchingDiscussion:!0,toggleingFavorite:!1,postingOpinion:!1,opinionContent:null,opinionError:null,deletingDiscussion:!1,deletedDiscussion:!1,deletingOpinion:null,discussion:null,error:null},re="posting_discussion_start",oe="posting_discussion_success",ae="posting_discussion_failure",ce="update_discussion_title",ue="update_discussion_content",le="update_discussion_pin_status",de="update_discussion_tags",pe="clear_success_message",ge={postingSuccess:!1,errorMsg:null,postingDiscussion:!1,title:"",content:null,tags:[],pinned:!1},he="get_all_info_start",fe="get_all_info_success",me="get_all_info_failure",je="create_forum",_e="create_forum_success",be="create_forum_failure",ye="delete_forum",ve="delete_forum_success",Oe="delete_forum_failure",xe="fetching_discussions_failure",Ce={loadingInfo:!1,info:{discussionCount:0,opinionCount:0,forumCount:0,userCount:0,forums:[]},error:null,creatingForum:!1,creatingForumError:null,deletingForum:!1,deletingForumError:null},Se="fetch_user_profile_start",ke="fetch_user_profile_success",Ne="fetch_user_profile_failure",Fe={fetchingProfile:!0,profile:{},error:null},we=Object(p.c)({networkStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object.assign({},e,{fetchingNetworkStatus:!0});case x:return Object.assign({},e,{fetchingNetworkStatus:!1});case C:return Object.assign({},e,{networkStatus:!0,fetchingNetworkStatus:!1,error:!1});case S:return Object.assign({},e,{networkStatus:!1,fetchingNetworkStatus:!1,error:"Unable to fetch networkStatus"});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object.assign({},e,{fetchUser:!0});case y:var n=t.payload,s=n._id,i=n.name,r=n.username,o=n.avatarUrl,a=n.email,c=n.githubBio,u=n.githubUrl,l=n.githubLocation,d=n.role;return Object.assign({},e),{fetchingUser:!1,authenticated:!0,error:null,_id:s,name:i,username:r,avatarUrl:o,email:a,githubBio:c,githubUrl:u,githubLocation:l,role:d};case v:return Object.assign({},F,{fetchingUser:!1,error:"Unable to fetch user!"});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object.assign({},e,{fetchingForums:!0});case m:return Object.assign({},e,{fetchingForums:!1});case j:return Object.assign({},e,{forums:t.payload,fetchingForums:!1,error:!1});case _:return Object.assign({},e,{fetchingForums:!1,error:"Unable to fetch forums"});case h:return Object.assign({},e,{currentForum:t.payload});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object.assign({},e,{fetchingDiscussions:!0,error:null});case D:return Object.assign({},e,{fetchingDiscussions:!1});case I:return Object.assign({},e,{discussions:t.payload,fetchingDiscussions:!1,error:null});case M:return Object.assign({},e,{fetchingDiscussions:!1,error:"Unable to fetch discussions at the moment."});case P:return Object.assign({},e,{fetchingPinnedDiscussions:!0,error:null});case B:return Object.assign({},e,{fetchingPinnedDiscussions:!1});case T:return Object.assign({},e,{pinnedDiscussions:t.payload,fetchingPinnedDiscussions:!1,error:null});case A:return Object.assign({},e,{fetchingPinnedDiscussions:!1,error:"Unable to fetch pinned discussions at the moment."});case E:return Object.assign({},e,{sortingMethod:t.payload});case U:return Object.assign({},e,{error:"Sorry, couldn't find the forum.",fetchingPinnedDiscussions:!1,fetchingDiscussions:!1});default:return e}},discussion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object.assign({},e,{fetchingDiscussion:!0});case W:return Object.assign({},e,{fetchingDiscussion:!1});case R:return Object.assign({},e,{discussion:t.payload,fetchingDiscussion:!1,error:null});case q:return Object.assign({},e,{fetchingDiscussion:!1,error:"Unable to fetch discussion. Please check out the url."});case z:return Object.assign({},e,{toggleingFavorite:!0});case J:case V:return Object.assign({},e,{toggleingFavorite:!1});case G:return Object.assign({},e,{opinionContent:t.payload});case K:return Object.assign({},e,{postingOpinion:!0,opinionError:null});case X:return Object.assign({},e,{postingOpinion:!1,opinionContent:null,opinionError:null});case Y:return Object.assign({},e,{postingOpinion:!1,opinionContent:null,opinionError:t.payload});case Q:return Object.assign({},e,{deletingDiscussion:!0});case Z:return Object.assign({},e,{deletingDiscussion:!1,deletedDiscussion:!0});case $:return Object.assign({},e,{deletingDiscussion:!1,deletedDiscussion:!1});case ee:return Object.assign({},e,{deletedDiscussion:!1});case te:return Object.assign({},e,{deletingOpinion:t.payload});case ne:case se:return Object.assign({},e,{deletingOpinion:null});default:return e}},newDiscussion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object.assign({},e,{postingDiscussion:!0});case oe:return Object.assign({},ge,{postingSuccess:!0,postingDiscussion:!1,errorMsg:null});case ae:return Object.assign({},e,{postingSuccess:!1,postingDiscussion:!1,errorMsg:t.payload||"Unable to post discussion."});case pe:return Object.assign({},ge,{postingSuccess:!1});case ce:return Object.assign({},e,{title:t.payload});case ue:return Object.assign({},e,{content:t.payload});case le:return Object.assign({},e,{pinned:t.payload});case de:return Object.assign({},e,{tags:t.payload});default:return e}},adminInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object.assign({},e,{loadingInfo:!0,error:null});case fe:return Object.assign({},e,{loadingInfo:!1,info:t.payload,error:null});case me:return Object.assign({},e,{loadingInfo:!1,error:"Something went wrong while loading admin level information."});case je:return Object.assign({},e,{creatingForumError:null,creatingForum:!0});case _e:return Object.assign({},e,{creatingForum:!1,creatingForumError:null});case be:return Object.assign({},e,{creatingForum:!1,creatingForumError:"Something went wrong while trying to create the forum. Please try again. Also check out if the forum already exists."});case ye:return Object.assign({},e,{deletingForum:!0,deletingForumError:null});case ve:return Object.assign({},e,{deletingForum:!1,deletingForumError:null});case Oe:return Object.assign({},e,{deletingForum:!1,deletingForumError:"Something went wrong while trying to delete the forum. Please try again later."});default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object.assign({},e,{fetchingProfile:!0,error:null});case ke:return Object.assign({},e,{fetchingProfile:!1,profile:t.payload,error:null});case Ne:return Object.assign({},e,{fetchingProfile:!1,error:"Unable to fetch user profile. Please check out for correct username."});default:return e}}}),De=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,Ie=Object(p.e)(we,De(Object(p.a)(g.a))),Me=n(6),Pe=n(7),Be=n(9),Te=n(8),Ae=n(44),Ee=n(12),Ue=n.n(Ee),Le=n(23),He=n.n(Le),We=n(212),Re=n.n(We),qe=n(25),ze=(n(252),n(74)),Je=n.n(ze),Ve=n(21),Ge=n.n(Ve),Ke="http://testwx.ouhaibank.com:8080",Xe=n(75),Ye=n.n(Xe),Qe=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.fullWidth,i=e.noUppercase,r=e.className,o=e.style,a=e.onClick,c=e.alwaysActive;return Object(s.jsx)("button",{onClick:a,className:Ue()(Ye.a.button,Ye.a.buttonDefaults,Ye.a[t],n&&Ye.a.fullWidth,i&&Ye.a.noUppercase,c&&Ye.a.alwaysActive,r),style:o,children:this.props.children})}}]),n}(i.Component);Qe.defaultProps={type:"default",fullWidth:!1,noUppercase:!1,alwaysActive:!1,className:"",style:{},onClick:function(){}};var Ze=Qe,$e={set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e){return JSON.parse(localStorage.getItem(e))},remove:function(e){localStorage.removeItem(e)}},et=n(447),tt=n(213),nt=n.n(tt),st=n(443),it=n(440),rt=n(445),ot=n(438),at=n(439),ct=n(220),ut=n(446),lt=(n(396),n(33)),dt=n.n(lt);var pt=n(127),gt=function(){return function(e,t){e({type:f}),1==t().networkStatus.networkStatus?Ge.a.get(Ke+"/api/forum").then((function(t){return e({type:j,payload:t.data})}),(function(t){return e({type:_})})):function(){var e=JSON.stringify({url:"/api/forum"}),t=pt(e).toString("hex");return Ge.a.get(t+".json")}().then((function(t){return e({type:j,payload:t.data})}),(function(t){return e({type:_})}))}},ht=function(){return function(e,t){e({type:O}),Ge.a.get(Ke+"/api/getNetworkStatus",{timeout:2e3}).then((function(t){return e({type:C,payload:t})}),(function(t){return e({type:S})}))}},ft=function(){return function(e,t){e({type:b}),function(){var e=$e.get("token");return Ge.a.get(Ke+"/api/user/getUser",{headers:{Authorization:"bearer ".concat(e)}})}().then((function(t){t.data._id?e({type:y,payload:t.data}):e({type:v})}),(function(t){return e({type:v})}))}},mt=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={activeSubMenu:!1,subMenuStatus:"signUp",username:"",password:"",anchorEl:null,snackbarOpen:!1},s.toggleSubMenu=s.toggleSubMenu.bind(Object(qe.a)(s)),s.toggleSignUpMenu=s.toggleSignUpMenu.bind(Object(qe.a)(s)),s.userNameHandleChange=s.userNameHandleChange.bind(Object(qe.a)(s)),s.passwordHandleChange=s.passwordHandleChange.bind(Object(qe.a)(s)),s.submit=s.submit.bind(Object(qe.a)(s)),s.signoutClick=s.signoutClick.bind(Object(qe.a)(s)),s.handleClose=s.handleClose.bind(Object(qe.a)(s)),s.gotoProfile=s.gotoProfile.bind(Object(qe.a)(s)),s.snackbarClose=s.snackbarClose.bind(Object(qe.a)(s)),s}return Object(Pe.a)(n,[{key:"snackbarClose",value:function(){this.snackbarClose=!1}},{key:"handleClose",value:function(){this.setState({activeSubMenu:!1})}},{key:"toggleSubMenu",value:function(e){var t=e.currentTarget;this.setState((function(e){return{activeSubMenu:!e.activeSubMenu,subMenuStatus:"signIn",anchorEl:t}}))}},{key:"toggleSignUpMenu",value:function(){this.setState((function(e){return{activeSubMenu:!e.activeSubMenu,subMenuStatus:"signUp"}}))}},{key:"userNameHandleChange",value:function(e){this.setState({username:e.target.value})}},{key:"passwordHandleChange",value:function(e){this.setState({password:e.target.value})}},{key:"submit",value:function(){var e;(e={username:this.state.username,password:this.state.password},Ge.a.post(Ke+"/api/user/signIn",e)).then((function(e){null!=e.data.error?enqueueSnackbar("This is a success message!","error"):($e.set("token",e.data),Ie.dispatch(ft()))}),(function(e){}))}},{key:"signoutClick",value:function(){$e.set("token",""),Ie.dispatch(ft()),this.setState({activeSubMenu:!1})}},{key:"gotoProfile",value:function(){var e=this.props,t=(e.signedIn,e.gitHandler);c.g.push("/user/".concat(t))}},{key:"renderSubMenu",value:function(){var e=this.state,t=e.activeSubMenu,n=(e.subMenuStatus,e.username),i=e.password,r=e.anchorEl,o=this.props,a=o.signedIn;o.gitHandler;return t?Object(s.jsxs)("div",{className:Je.a.subMenu,children:[!a&&Object(s.jsxs)(rt.a,{onClose:this.handleClose,open:!0,"aria-labelledby":"simple-dialog",children:[Object(s.jsx)(ot.a,{id:"simple-dialog-tilte",children:"Sign In/Sign up"}),Object(s.jsxs)(at.a,{children:[Object(s.jsx)(et.a,{style:{margin:"0 auto",backgroundColor:"#dc004e"},children:Object(s.jsx)(nt.a,{})}),Object(s.jsx)(st.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:n,onChange:this.userNameHandleChange}),Object(s.jsx)(st.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:i,onChange:this.passwordHandleChange}),Object(s.jsx)(it.a,{style:{marginTop:"20px"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:this.submit,children:"Submit!"}),Object(s.jsx)(it.a,{style:{marginTop:"20px"},type:"submit",fullWidth:!0,variant:"contained",onClick:this.handleClose,children:"Cancel"})]})]}),a&&Object(s.jsxs)(ct.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:this.handleClose,children:[Object(s.jsx)(ut.a,{onClick:this.gotoProfile,children:"My Profile"}),Object(s.jsx)(ut.a,{onClick:this.signoutClick,children:"Sign Out"})]})]}):null}},{key:"render",value:function(){var e=this.props,t=e.signedIn,n=e.userName;e.avatar,e.signOutAction;return t?Object(s.jsxs)("div",{style:{position:"relative"},children:[Object(s.jsx)("div",{className:Je.a.container,onClick:this.toggleSubMenu,children:Object(s.jsx)("span",{className:Je.a.title,children:n})}),this.renderSubMenu()]}):Object(s.jsxs)("div",{className:Je.a.container,children:[Object(s.jsx)(Ze,{alwaysActive:!0,className:Ue()(Je.a.signInBtn,Je.a.title),onClick:this.toggleSignUpMenu,style:{justifyContent:"flex-end"},children:"Sign Up / Sign In"}),this.renderSubMenu()]})}}]),n}(i.Component);mt.defaultProps={signedIn:!1,userName:"",gitHandler:"",avatar:""};var jt=mt,_t=n(115),bt=n.n(_t),yt=function(){return Object(s.jsxs)("div",{className:bt.a.logoContainer,children:[Object(s.jsx)("div",{className:bt.a.logo,children:Object(s.jsx)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(s.jsxs)("g",{id:"Group",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(s.jsx)("path",{d:"M51.1388842,81.5721454 L69.5667388,100 L92.0066458,100 C96.4114635,100 100,96.4212534 100,92.0066458 L100,7.99335421 C100,3.58853654 96.4212534,0 92.0066458,0 L7.99335421,0 C3.58853654,0 0,3.57874658 0,7.99335421 L0,92.0066458 C0,96.4114635 3.57874658,100 7.99335421,100 L10.5882353,100 L10.5882353,44.7058824 C10.7474244,24.5366987 27.1464843,8.23529412 47.3529412,8.23529412 C67.6575276,8.23529412 84.1176471,24.6954136 84.1176471,45 C84.1176471,64.0263195 69.6647717,79.676989 51.1388842,81.5721454 Z M24.2232146,73.5788183 L24.1176471,73.6843859 L50.4332612,100 L24.1176471,100 L24.1176471,73.4929507 C24.1527823,73.521637 24.1879715,73.5502596 24.2232146,73.5788183 Z",id:"Combined-Shape",fill:"#F1C40F"}),Object(s.jsx)("circle",{id:"Oval",fill:"#F1C40F",cx:"47.6470588",cy:"45.2941176",r:"23.5294118"})]})})}),Object(s.jsx)("div",{className:bt.a.logoTitle,children:"ReForum-ipfs"})]})},vt=n(88),Ot=n.n(vt),xt=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props.navigationLinks;return e?Object(s.jsx)("ul",{className:Ot.a.navigationBar,children:e.map((function(e){return 0===e.id?Object(s.jsx)("li",{children:Object(s.jsx)(c.a,{className:Ot.a.links,activeClassName:Ot.a.linkActive,to:"/",children:"Home"})},dt.a.uniqueId("navLink_")):Object(s.jsx)("li",{children:Object(s.jsx)(c.c,{className:Ot.a.links,activeClassName:Ot.a.linkActive,to:e.link,children:e.name})},dt.a.uniqueId("navLink_"))}))}):null}}]),n}(i.Component);xt.defaultProps={navigationLinks:[{id:0,name:"General",link:"/"}]};var Ct=xt,St=n.p+"static/media/placeholder.4d0400d6.jpg",kt=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"renderNavLinks",value:function(){var e=this.props.forums;return e?e.map((function(e){return{id:e._id,name:e.forum_name,link:"/".concat(e.forum_slug)}})):null}},{key:"render",value:function(){var e=this.props.user,t=e.authenticated,n=e.name,i=e.username,r=e.avatarUrl;return Object(s.jsxs)("div",{className:Ue()(He.a.constraintWidth),children:[Object(s.jsxs)("div",{className:Re.a.headerTop,children:[Object(s.jsx)(yt,{}),Object(s.jsx)(jt,{signedIn:t,userName:n||i,gitHandler:i,avatar:r})]}),Object(s.jsx)(Ct,{navigationLinks:this.renderNavLinks()})]})}}]),n}(i.Component),Nt=Object(u.b)((function(e){return{user:e.user,forums:e.app.forums}}))(kt),Ft=n(214),wt=n.n(Ft),Dt=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:Ue()(He.a.constraintWidth,wt.a.contentArea)})}}]),n}(i.Component);Dt.defaultProps={};var It=Dt,Mt=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.params,n=e.updateCurrentForum,s=e.getForums,i=e.getUser;(0,e.getNetworkStatus)(),setTimeout((function(){s(),i();var e=t.forum||"";n(e)}),2e3)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.forums,n=e.params,s=e.currentForum,i=e.updateCurrentForum,r="";n.forum?r=n.forum:t&&(r=t[0].forum_slug),r!==s&&i(r)}},{key:"render",value:function(){return this.props.forums?Object(s.jsxs)("div",{children:[Object(s.jsx)(Ae.a,{children:Object(s.jsx)("title",{children:" "})}),Object(s.jsx)("div",{className:d.a.gitForkTag,children:Object(s.jsx)("a",{className:d.a.gitLink,href:"https://github.com/ReForum-ipfs/ReForum-ipfs",target:"_blank",children:"Fork on Github"})}),Object(s.jsx)(Nt,{}),this.props.children,Object(s.jsx)(It,{})]}):Object(s.jsx)("div",{className:d.a.loadingWrapper,children:"Loading..."})}}]),n}(i.Component),Pt=Object(u.b)((function(e){return{forums:e.app.forums,currentForum:e.app.currentForum,networkStatus:e.app.networkStatus}}),(function(e){return{getNetworkStatus:function(){e(ht())},getForums:function(){e(gt())},updateCurrentForum:function(t){e(function(e){return{type:h,payload:e}}(t))},getUser:function(){e(ft())}}}))(Mt),Bt=n(215),Tt=n.n(Bt),At=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"renderNavLinks",value:function(){return[{name:"Dashboard",link:"/admin"}]}},{key:"render",value:function(){var e=this.props.user,t=e.authenticated,n=e.name,i=e.username,r=e.avatarUrl;return Object(s.jsxs)("div",{className:Ue()(He.a.constraintWidth),children:[Object(s.jsxs)("div",{className:Tt.a.headerTop,children:[Object(s.jsx)(yt,{}),"Welcome Admin",Object(s.jsx)(jt,{signedIn:t,userName:n||i,gitHandler:i,avatar:r})]}),Object(s.jsx)(Ct,{navigationLinks:this.renderNavLinks()})]})}}]),n}(i.Component),Et=Object(u.b)((function(e){return{user:e.user,forums:e.app.forums}}))(At),Ut=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){this.props.getUser()}},{key:"render",value:function(){var e=this.props.user;return e.fetchingUser?Object(s.jsx)("div",{style:{textAlign:"center",marginTop:20},children:"Loading users profile..."}):"admin"===e.role?Object(s.jsxs)("div",{children:[Object(s.jsx)(Ae.a,{children:Object(s.jsx)("title",{children:"ReForum | Admin"})}),Object(s.jsx)(Et,{}),this.props.children]}):Object(s.jsxs)("div",{style:{textAlign:"center",marginTop:20},children:["We are cordially sorry that you are not allowed to view admin panel!",Object(s.jsx)("br",{}),"Please go back to ",Object(s.jsx)(c.c,{to:"/",children:"root"})," page."]})}}]),n}(i.Component),Lt=Object(u.b)((function(e){return{user:e.user}}),(function(e){return{getUser:function(){e(ft())}}}))(Ut),Ht=n(89),Wt=n.n(Ht),Rt=function(){var e=$e.get("token");return Ge.a.get(Ke+"/api/admin/admin_dashboard_info",{headers:{Authorization:"bearer ".concat(e)}})},qt=function(e){return function(t,n){t({type:je}),function(e){var t=$e.get("token");return Ge.a.post(Ke+"/api/admin/create_forum",e,{headers:{Authorization:"bearer ".concat(t)}})}(e).then((function(e){Rt().then((function(n){t({type:fe,payload:n.data}),e.data.created?t({type:_e}):t({type:be})}),(function(e){return t({type:xe,payload:e})}))}),(function(e){return t({type:be})}))}},zt=function(e){return function(t,n){t({type:ye}),function(e){var t=$e.get("token");return Ge.a.post(Ke+"/api/admin/delete_forum",{forum_id:e},{headers:{Authorization:"bearer ".concat(t)}})}(e).then((function(e){t({type:he}),Rt().then((function(n){t({type:fe,payload:n.data}),e.data.deleted?t({type:ve}):t({type:Oe})}),(function(e){return t({type:xe,payload:e})}))}),(function(e){return t({type:Oe})}))}},Jt=n(116),Vt=n.n(Jt),Gt=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.count,n=e.label;return Object(s.jsxs)("div",{className:Vt.a.container,children:[Object(s.jsx)("div",{className:Vt.a.count,children:t}),Object(s.jsx)("div",{className:Vt.a.label,children:n})]})}}]),n}(i.Component);Gt.defaultProps={count:0,label:"default"};var Kt=Gt,Xt=n(28),Yt=n.n(Xt),Qt=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={newForumTitle:"",newForumSlug:"",errorMsg:null},s.handleCreateForum=s.handleCreateForum.bind(Object(qe.a)(s)),s}return Object(Pe.a)(n,[{key:"handleCreateForum",value:function(){this.setState({errorMsg:null});var e=this.state,t=e.newForumTitle,n=e.newForumSlug,s=null,i=null;if(""===t)return this.setState({errorMsg:"Forum title is empty. Please provide a valid Forum Title."});if((s=t.trim()).length<4)return this.setState({errorMsg:"Forum title should have at least 4 charecters."});if(""===i)return this.setState({errorMsg:"Forum slug is empty. Please provide a valid Forum Slug."});return(i=n.match(/^[a-z\_]+$/)?n:null)&&i.length<4?this.setState({errorMsg:"Forum slug should have at least 4 charecters."}):s?i?void(s&&i&&this.props.createAction({title:s,slug:i})):this.setState({errorMsg:"Please provide a valid Forum Slug. Slug can only contain small case alphabets and underscore."}):this.setState({errorMsg:"Please provide a valid Forum Title."})}},{key:"render",value:function(){var e=this,t=this.props,n=t.forums,i=t.creatingForum,r=t.deleteAction,o=t.deletingForum,a=this.state,c=(a.newForumTitle,a.newForumSlug,a.errorMsg);return Object(s.jsxs)("div",{className:Yt.a.container,children:[Object(s.jsx)("div",{className:Yt.a.title,children:"Current Forums"}),Object(s.jsxs)("div",{className:Yt.a.forumsContainer,children:[o&&Object(s.jsx)("div",{className:Yt.a.loadingMsg,children:"Removing forum, please wait..."}),n.map((function(e){return Object(s.jsxs)("div",{className:Yt.a.forum,children:[Object(s.jsx)("div",{className:Yt.a.forumTitle,children:e.name}),Object(s.jsxs)("div",{className:Yt.a.forumSlug,children:["(",e.slug,")"]}),Object(s.jsx)("div",{className:Yt.a.removeButton,children:Object(s.jsx)(Ze,{onClick:function(){r(e.id)},children:"Remove"})})]},e.id)}))]}),Object(s.jsxs)("div",{className:Yt.a.createForumContainer,children:[i&&Object(s.jsx)("div",{className:Yt.a.loadingMsg,children:"Creating forum, please wait..."}),Object(s.jsx)("div",{className:Yt.a.createTitle,children:"Create New Forum"}),Object(s.jsxs)("div",{className:Yt.a.createForum,children:[Object(s.jsxs)("div",{className:Yt.a.createInputContainer,children:[Object(s.jsx)("div",{className:Yt.a.inputLabel,children:"Title: "}),Object(s.jsx)("input",{type:"text",className:Yt.a.createInput,placeholder:"Forum Title",onChange:function(t){e.setState({newForumTitle:t.target.value})}})]}),Object(s.jsxs)("div",{className:Yt.a.createInputContainer,children:[Object(s.jsx)("div",{className:Yt.a.inputLabel,children:"Slug: "}),Object(s.jsx)("input",{type:"text",className:Yt.a.createInput,placeholder:"forum_slug",onChange:function(t){e.setState({newForumSlug:t.target.value})}})]}),Object(s.jsx)(Ze,{onClick:this.handleCreateForum,children:"Create"})]}),c&&Object(s.jsx)("div",{className:Yt.a.errorMsg,children:c})]})]})}}]),n}(i.Component);Qt.defaultProps={};var Zt=Qt,$t=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){this.props.getAdminDashboardInfo()}},{key:"render",value:function(){var e=this,t=this.props.adminInfo.info,n=t.discussionCount,i=t.opinionCount,r=t.forumCount,o=t.userCount,a=t.forums,c=this.props,u=c.loadingInfo,l=c.creatingForum,d=c.creatingForumError,p=c.deletingForum,g=c.deletingForumError,h=a.map((function(e){return{id:e._id,name:e.forum_name,slug:e.forum_slug}}));return Object(s.jsxs)("div",{className:Ue()(He.a.constraintWidth,Wt.a.container),children:[u&&Object(s.jsx)("div",{className:Ue()(Wt.a.loadingMsg),children:"Loading dashboard info..."}),Object(s.jsxs)("div",{className:Wt.a.countsContainer,children:[Object(s.jsx)(Kt,{label:"Users",count:o}),Object(s.jsx)(Kt,{label:"Discussions",count:n}),Object(s.jsx)(Kt,{label:"Opinions",count:i}),Object(s.jsx)(Kt,{label:"Forums",count:r})]}),Object(s.jsx)(Zt,{forums:h,deletingForum:p,deleteAction:function(t){e.props.deleteForum(t)},creatingForum:l,createAction:function(t){e.props.createForum(t)}}),d&&Object(s.jsx)("div",{className:Wt.a.errorMsg,children:d}),g&&Object(s.jsx)("div",{className:Wt.a.errorMsg,children:g})]})}}]),n}(i.Component),en=Object(u.b)((function(e){return{adminInfo:e.adminInfo,loadingInfo:e.adminInfo.loadingInfo,creatingForum:e.adminInfo.creatingForum,creatingForumError:e.adminInfo.creatingForumError,deletingForum:e.adminInfo.deletingForum,deletingForumError:e.adminInfo.deletingForumError}}),(function(e){return{getAdminDashboardInfo:function(){e((function(e,t){e({type:he}),Rt().then((function(t){return e({type:fe,payload:t.data})}),(function(t){return e({type:xe,payload:t})}))}))},deleteForum:function(t){e(zt(t))},createForum:function(t){e(qt(t))}}}))($t),tn=n(127),nn=function(e,t,n){return Ge.a.get(Ke+"/api/forum/".concat(e,"/discussions?sorting_method=").concat(t,"&pageNum=").concat(n))},sn=function(e,t,n){var s=JSON.stringify({url:"/api/forum/".concat(e,"/discussions?sorting_method=").concat(t,"&pageNum=").concat(n)}),i=tn(s).toString("hex");return Ge.a.get(i+".json")},rn=function(e,t){return function(n,s){var i;if(t&&n({type:P}),e)return 1==s().networkStatus.networkStatus?(i=e,Ge.a.get(Ke+"/api/forum/".concat(i,"/pinned_discussions"))).then((function(e){return n({type:T,payload:e.data})}),(function(e){console.log(e),n({type:A})})):function(e){var t=JSON.stringify({url:"/api/forum/".concat(e,"/pinned_discussions")}),n=tn(t).toString("hex");return Ge.a.get(n+".json")}(e).then((function(e){return n({type:T,payload:e.data})}),(function(e){console.log(e),n({type:A})}));n({type:U})}},on=n(51),an=n.n(on),cn=n(47),un=n.n(cn),ln=n(441),dn=n(48),pn=n.n(dn),gn=n(117),hn=n.n(gn),fn=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.withRemove,i=e.removeAction;return Object(s.jsxs)("div",{className:Ue()(hn.a.tag,n&&hn.a.tagWithRemove),style:{color:"#ff9800"},children:[t,n&&Object(s.jsx)(Ze,{onClick:i,className:hn.a.removeButton,children:Object(s.jsx)("i",{className:"fa fa-close"})})]})}}]),n}(i.Component);fn.defaultProps={name:"",withRemove:!1,removeAction:function(){}};var mn=fn,jn=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.voteCount,n=e.userName,i=e.userGitHandler,r=e.discussionTitle,o=e.time,a=e.opinionCount,u=e.tags,l=e.link,d=e.userProfile,p=an()(o).from(an()());return Object(s.jsxs)("div",{className:pn.a.container,children:[Object(s.jsx)("div",{className:Ue()(pn.a.title,d&&pn.a.titleBottomMargin),children:Object(s.jsx)(ln.a,{variant:"h6",component:c.c,to:l,color:"textPrimary",children:r})}),!d&&Object(s.jsx)("div",{className:pn.a.posterInfo,children:Object(s.jsx)(ln.a,{component:c.c,to:"/user/".concat(i),className:pn.a.name,children:n})}),Object(s.jsxs)("div",{className:pn.a.boxFooter,children:[Object(s.jsx)("div",{className:pn.a.tagsArea,children:u.map((function(e){return Object(s.jsx)(mn,{name:e},e)}))}),Object(s.jsxs)("div",{className:pn.a.postInfo,children:[Object(s.jsx)("span",{className:pn.a.info,children:p}),Object(s.jsxs)("span",{className:pn.a.info,style:{color:"#ff80ab"},children:[t," favorites"]}),Object(s.jsxs)("span",{className:pn.a.info,style:{color:"#90caf9"},children:[a," opinions"]})]})]})]})}}]),n}(i.Component);jn.defaultProps={discussionId:1,voteCount:20,userName:"Hello World",userGitHandler:"github",discussionTitle:"This is a default post title",time:an()(),opinionCount:12,tags:["react","redux","nodejs"],link:"",userProfile:!1};var _n=jn,bn=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"renderSort",value:function(){var e=this.props,t=e.activeSortingMethod,n=e.onChangeSortingMethod;return"general"===this.props.type?Object(s.jsxs)("div",{className:un.a.sortList,children:[Object(s.jsx)("span",{className:Ue()(un.a.sort,"date"===t&&un.a.sortActive),onClick:function(){return n("date")},children:"Latest"}),Object(s.jsx)("span",{className:Ue()(un.a.sort,"popularity"===t&&un.a.sortActive),onClick:function(){return n("popularity")},children:"Popular"})]}):null}},{key:"renderEmptyDiscussionLine",value:function(e,t){if(!e&&(!t||0===t.length))return Object(s.jsx)("div",{className:un.a.loading,children:"No discussions..."})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.loading,i=e.discussions,r=e.currentForum,o=e.userProfile,a="";return"general"===t&&(a="Discussions"),"pinned"===t&&(a="Pinned"),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:un.a.container,children:[Object(s.jsxs)("div",{className:un.a.header,children:[Object(s.jsx)("span",{className:un.a.title,children:a}),!o&&this.renderSort()]}),n&&Object(s.jsx)("div",{className:un.a.loading,children:"Loading..."}),this.renderEmptyDiscussionLine(n,i),!n&&Object(s.jsx)("div",{className:un.a.discussions,children:i&&i.map((function(e){return Object(s.jsx)(_n,{userProfile:o,userName:e.user.username,userGitHandler:e.user.username,discussionTitle:e.title,time:e.date,tags:e.tags,opinionCount:e.opinion_count,voteCount:e.favorites.length,link:"/".concat(o?e.forum.forum_slug:r,"/discussion/").concat(e.discussion_slug)},e._id)}))})]})})}}]),n}(i.Component);bn.defaultProps={type:"general",loading:!1,discussions:[],currentForum:"general",activeSortingMethod:"date",onChangeSortingMethod:function(e){},userProfile:!1};var yn=bn,vn=n(216),On=n.n(vn),xn=n(72),Cn=n.n(xn),Sn=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props.currentForum;return Object(s.jsx)("div",{className:On.a.sidebarContainer,children:Object(s.jsx)(c.c,{to:"/".concat(e,"/new_discussion"),style:{textDecoration:"none"},children:Object(s.jsx)(it.a,{variant:"contained",color:"primary",fullWidth:!0,startIcon:Object(s.jsx)(Cn.a,{}),children:"New Discussion"})})})}}]),n}(i.Component);Sn.defaultProps={currentForum:"general"};var kn=Sn,Nn=n(118),Fn=n.n(Nn),wn=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={pageNum:1},s}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentForumId,n=e.getDiscussions,s=e.getPinnedDiscussions;n(t()),s(t())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentForum,s=t.currentForumId,i=t.getDiscussions,r=t.getPinnedDiscussions,o=this.state.pageNum;if(e.currentForum!==n){i(s(),true,o),r(s(),true)}}},{key:"previousPage",value:function(){var e=this.state.pageNum,t=this.props,n=t.currentForumId,s=t.getDiscussions;1==e?alert("no more discussions"):(this.setState({pageNum:e-1}),s(n(),!1,!1,e-1))}},{key:"nextPage",value:function(){var e=this.state.pageNum,t=this.props,n=t.currentForumId,s=t.getDiscussions;t.discussions.length>=10?(this.setState({pageNum:e+1}),s(n(),!1,!1,e+1)):alert("no more discussions")}},{key:"handleSortingChange",value:function(e){var t=this.props,n=(t.currentForum,t.getDiscussions),s=t.updateSortingMethod,i=t.sortingMethod,r=t.currentForumId;i!==e&&(s(e),n(r(),!1,!0))}},{key:"renderNewDiscussionButtion",value:function(){var e=this.props.currentForum;return Object(s.jsx)("div",{className:Ue()(He.a.showOnMediumBP,Fn.a.newDiscussionBtn),children:Object(s.jsx)(c.c,{to:"/".concat(e,"/new_discussion"),children:Object(s.jsx)(it.a,{variant:"contained",color:"primary",fullWidth:!0,startIcon:Object(s.jsx)(Cn.a,{}),children:"New Discussion"})})})}},{key:"render",value:function(){var e=this.props,t=e.currentForum,n=e.discussions,i=e.fetchingDiscussions,r=e.pinnedDiscussions,o=e.fetchingPinnedDiscussions,a=e.sortingMethod,c=e.error,u=this.state.pageNum;return c?Object(s.jsx)("div",{className:Ue()(Fn.a.errorMsg),children:c}):Object(s.jsxs)("div",{className:Ue()(He.a.constraintWidth,Fn.a.contentArea),children:[Object(s.jsx)(Ae.a,{children:Object(s.jsx)("title",{children:"ReForum | ".concat(t)})}),Object(s.jsxs)("div",{className:He.a.primaryContent,children:[this.renderNewDiscussionButtion(),Object(s.jsx)(yn,{type:"pinned",loading:o,discussions:r,currentForum:t}),Object(s.jsx)(yn,{type:"general",loading:i,discussions:n,currentForum:t,onChangeSortingMethod:this.handleSortingChange.bind(this),activeSortingMethod:a}),Object(s.jsxs)("div",{style:{display:"flex",paddingTop:"15px",paddingBottom:"15px"},children:[Object(s.jsx)("button",{type:"button",style:{flex:"1"},onClick:this.previousPage.bind(this),children:"Previous"}),Object(s.jsx)("div",{style:{flex:"1",textAlign:"center"},children:u}),Object(s.jsx)("button",{type:"button",style:{flex:"1"},onClick:this.nextPage.bind(this),children:"Next"})]})]}),Object(s.jsx)("div",{className:He.a.secondaryContent,children:Object(s.jsx)(kn,{currentForum:t})})]})}}]),n}(i.Component),Dn=Object(u.b)((function(e){return{currentForum:e.app.currentForum,currentForumId:function(){var t=dt.a.find(e.app.forums,{forum_slug:e.app.currentForum});return t?t._id:null},fetchingDiscussions:e.feed.fetchingDiscussions,discussions:e.feed.discussions,fetchingPinnedDiscussions:e.feed.fetchingPinnedDiscussions,sortingMethod:e.feed.sortingMethod,pinnedDiscussions:e.feed.pinnedDiscussions,error:e.feed.error}}),(function(e){return{getDiscussions:function(t,n,s,i){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return function(i,r){var o=r().feed.sortingMethod;(t||n)&&i({type:w}),e?1==r().networkStatus.networkStatus?nn(e,o,s).then((function(e){return i({type:I,payload:e.data})}),(function(e){return i({type:M})})):sn(e,o,s).then((function(e){return i({type:I,payload:e.data})}),(function(e){return i({type:M})})):i({type:U})}}(t,n,s,i))},getPinnedDiscussions:function(t,n){e(rn(t,n))},updateSortingMethod:function(t){e(function(e){return{type:E,payload:e}}(t))}}}))(wn),In=n(127),Mn=function(e){return Ge.a.get(Ke+"/api/discussion/".concat(e))},Pn=function(e){return function(t,n){t({type:H}),1==n().networkStatus.networkStatus?Mn(e).then((function(e){e.data?t({type:R,payload:e.data}):t({type:q})}),(function(e){return t({type:q})})):function(e){var t=JSON.stringify({url:"/api/discussion/".concat(e)}),n=In(t).toString("hex");return Ge.a.get(n+".json")}(e).then((function(e){e.data?t({type:R,payload:e.data}):t({type:q})}),(function(e){return t({type:q})}))}},Bn=function(e){return function(t,n){t({type:z}),function(e){var t=$e.get("token");return Ge.a.get(Ke+"/api/discussion/toggleFavorite/".concat(e),{headers:{Authorization:"bearer ".concat(t)}})}(e).then((function(e){e.data._id?(t({type:J}),t({type:R,payload:e.data})):t({type:V})}),(function(e){return t({type:V})}))}},Tn=function(e,t){return function(n,s){n({type:K}),!e.content||e.content.length<20?n({type:Y,payload:"Please provide a bit more info in your opinion....at least 20 characters."}):function(e){var t=$e.get("token");return Ge.a.post(Ke+"/api/opinion/newOpinion",e,{headers:{Authorization:"bearer ".concat(t)}})}(e).then((function(e){e.data._id?Mn(t).then((function(e){n({type:R,payload:e.data}),n({type:X})}),(function(e){return n({type:q})})):n({type:Y})}),(function(e){return n({type:Y})}))}},An=function(e){return function(t,n){t({type:Q}),function(e){var t=$e.get("token");return Ge.a.delete(Ke+"/api/discussion/deleteDiscussion/".concat(e),{headers:{Authorization:"bearer ".concat(t)}})}(e).then((function(e){e.data.deleted?t({type:Z}):t({type:$})}),(function(e){return t({type:$})}))}},En=function(e,t){return function(n,s){n({type:te,payload:e}),function(e){var t=$e.get("token");return Ge.a.delete(Ke+"/api/opinion/deleteOpinion/".concat(e),{headers:{Authorization:"bearer ".concat(t)}})}(e).then((function(e){e.data.deleted?Mn(t).then((function(e){n({type:ne}),n({type:R,payload:e.data})}),(function(e){return n({type:q})})):n({type:se})}),(function(e){return n({type:se})}))}},Un=n(37),Ln=n.n(Un),Hn=(n(299),n(217)),Wn=n.n(Hn),Rn=n(17),qn=n(90),zn=n.n(qn),Jn=n(218),Vn=n.n(Jn),Gn=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={editorState:Rn.EditorState.createEmpty()},s.onEditorStateChange=s.onEditorStateChange.bind(Object(qe.a)(s)),s}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.value;if(e){var t=Object(Rn.convertFromRaw)(JSON.parse(e)),n=Rn.EditorState.createWithContent(t);this.setState({editorState:n})}this.isLivinig=!0}},{key:"onEditorStateChange",value:function(e){var t=this.props.onChange;this.setState({editorState:e}),t(JSON.stringify(Object(Rn.convertToRaw)(e.getCurrentContent())))}},{key:"componentWillUnmount",value:function(){this.isLivinig=!1}},{key:"render",value:function(){var e=this.state,t=(e.editorState,e.outputHTML,this.props),n=t.type,i=t.onSave,r=t.readOnly,o="";"newOpinion"===n&&(o="Reply"),"newDiscussion"===n&&(o="Post Discussion");var a,c="";return"newOpinion"===n&&(c="Your opinion..."),"newDiscussion"===n&&(c="Discussion summary..."),a=r?[]:["undo","redo","separator","headings","separator","text-color","bold","italic","underline","separator","emoji","separator","text-align","separator","blockquote","separator","link","separator","separator","media","separator"],Object(s.jsxs)("div",{className:Ue()(zn.a.container,r&&zn.a.readOnlyContainer),children:[Object(s.jsx)("div",{className:Ue()(zn.a.editorContainer,!r&&zn.a[n],r&&zn.a.readOnlyEditorContainer),children:Object(s.jsx)(Wn.a,{contentStyle:{height:"auto"},value:this.state.editorState,onChange:this.onEditorStateChange,language:"en",readOnly:r,controls:a,placeholder:c})}),!r&&Object(s.jsx)(it.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:i,endIcon:Object(s.jsx)(Vn.a,{}),children:o})]})}}]),n}(r.a.Component);Gn.defaultProps={readOnly:!1,value:null,type:"newDiscussion",onChange:function(){},onSave:function(){}};var Kn=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=(e.userAvatar,e.userName),i=e.userGitHandler,r=e.discTitle,o=e.discDate,a=e.discContent,u=e.tags,l=e.favoriteCount,d=e.favoriteAction,p=e.userFavorited,g=e.toggleingFavorite,h=e.allowDelete,f=e.deletingDiscussion,m=e.deleteAction,j=an()(o);j=j.from(an()());var _="";return _=g?"Toggling Favorite...":p?"Favorited (".concat(l,")"):0===l?"Make favorite":1===l?"1 favorite":"".concat(l," favorites"),Object(s.jsxs)("div",{className:Ln.a.container,children:[Object(s.jsx)("div",{className:Ln.a.infoContainer,children:Object(s.jsxs)("div",{className:Ln.a.columnOnSmallBP,children:[Object(s.jsx)("div",{className:Ln.a.userInfo,children:Object(s.jsx)(c.c,{to:"/user/".concat(i),className:Ln.a.name,children:n||i})}),Object(s.jsx)("div",{className:Ln.a.dateInfo,children:j})]})}),Object(s.jsx)("div",{className:Ln.a.discTitle,children:r}),Object(s.jsx)("div",{className:Ln.a.discContent,children:Object(s.jsx)(Gn,{readOnly:!0,value:a})}),Object(s.jsxs)("div",{className:Ln.a.discFooter,children:[Object(s.jsx)("div",{className:Ln.a.tags,children:u.map((function(e){return Object(s.jsx)(mn,{name:e},dt.a.uniqueId("tag_"))}))}),Object(s.jsxs)(Ze,{noUppercase:!0,className:Ln.a.favoriteButton,onClick:function(){!g&&d(t)},children:[Object(s.jsx)("i",{className:Ue()("fa fa-".concat(p?"heart":"heart-o"))}),Object(s.jsx)("span",{style:{color:"#ff80ab"},children:_})]}),h&&Object(s.jsxs)(Ze,{noUppercase:!0,className:Ln.a.deleteButton,onClick:function(){m()},children:[Object(s.jsx)("i",{className:Ue()("fa fa-trash",Ln.a.trashIcon)}),Object(s.jsx)("span",{children:"Delete"})]})]}),f&&Object(s.jsx)("div",{className:Ln.a.deletingDiscussion,children:"Deleting Discussion..."})]})}}]),n}(i.Component);Kn.defaultProps={id:0,userAvatar:St,userName:"User name",userGitHandler:"github",discTitle:"Default Discussion Title",discDate:"a day ago",discContent:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tags:["react","redux","webkit"],favoriteCount:1,favoriteAction:function(){},userFavorited:!1,toggleingFavorite:!1,allowDelete:!1,deletingDiscussion:!1,deleteAction:function(){}};var Xn=Kn,Yn=n(219),Qn=n.n(Yn),Zn=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.posting,n=e.onSubmit,i=e.onChange;return t?Object(s.jsx)("div",{className:Qn.a.loadingWrapper,children:"Posting your opinion..."}):Object(s.jsx)(Gn,{type:"newOpinion",onSave:n,onChange:i})}}]),n}(i.Component);Zn.defaultProps={posting:!1,onSubmit:function(){},onChange:function(e){}};var $n=Zn,es=n(56),ts=n.n(es),ns=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.opinionId,n=(e.userAvatar,e.userName),i=e.userGitHandler,r=e.opDate,o=e.opContent,a=e.userId,u=e.currentUserId,l=e.currentUserRole,d=e.deleteAction,p=e.deletingOpinion,g=an()(r);g=g.from(an()());var h=a===u||"admin"===l;return Object(s.jsxs)("div",{className:ts.a.container,children:[Object(s.jsxs)("div",{className:ts.a.infoContainer,children:[Object(s.jsx)("div",{className:ts.a.userInfo,children:Object(s.jsx)(c.c,{to:"/user/".concat(i),className:ts.a.name,children:n||i})}),Object(s.jsx)("div",{className:ts.a.dateInfo,children:g}),h&&Object(s.jsxs)(Ze,{className:ts.a.deleteButton,noUppercase:!0,onClick:function(){d(t)},children:[Object(s.jsx)("i",{className:Ue()("fa fa-trash",ts.a.trashIcon)}),Object(s.jsx)("span",{children:"Delete"})]})]}),Object(s.jsx)("div",{className:ts.a.opContent,children:Object(s.jsx)(Gn,{readOnly:!0,value:o})}),p===t&&Object(s.jsx)("div",{className:ts.a.deletingOpinion,children:"Deleting Opinion ..."})]})}}]),n}(i.Component);ns.defaultProps={opinionId:"12345",userAvatar:St,userName:"User name",userGitHandler:"github",opDate:"a day ago",opContent:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",userId:"12345",currentUserId:"12345",currentUserRole:"user",deleteAction:function(){},deletingOpinion:null};var ss=ns,is=n(101),rs=n.n(is),os=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={opinionContent:""},s}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.params,t=(e.forum,e.discussion);this.props.getDiscussion(t)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.deletedDiscussion,n=e.deletedDiscussionRedirect,s=this.props.params.forum;t&&(c.f.push("/".concat(s)),setTimeout((function(){n()}),100))}},{key:"componentWillUnmount",value:function(){this.props.updateOpinionContent(null)}},{key:"userFavoritedDiscussion",value:function(e,t){for(var n=!1,s=0;s<t.length;s++)t[s]===e&&(n=!0);return n}},{key:"handleReplySubmit",value:function(){var e=this.props,t=e.forums,n=e.postOpinion,s=e.discussion,i=e.opinionContent,r=e.userId,o=this.props.params.discussion,a=this.props.params.forum;n({forum_id:dt.a.find(t,{forum_slug:a})._id,discussion_id:s._id,user_id:r,content:i},o)}},{key:"deleteDiscussion",value:function(){var e=this.props.params.discussion;(0,this.props.deletePost)(e)}},{key:"deleteOpinion",value:function(e){var t=this.props.params.discussion,n=this.props.deleteOpinion;n(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.userAuthenticated,i=t.fetchingDiscussion,r=t.discussion,o=t.toggleFavorite,a=t.toggleingFavorite,c=t.updateOpinionContent,u=t.postingOpinion,l=t.opinionError,d=t.deletingOpinion,p=t.deletingDiscussion,g=t.error;if(g)return Object(s.jsx)("div",{className:rs.a.errorMsg,children:g});if(i)return Object(s.jsx)("div",{className:rs.a.loadingWrapper,children:"Loading discussion ..."});var h=r._id,f=r.content,m=r.date,j=r.favorites,_=r.title,b=r.tags,y=r.opinions,v=r.user,O=v.avatarUrl,x=(v.name,v.username),C=!1;r.user._id!==this.props.userId&&"admin"!==this.props.userRole||(C=!0);var S=this.userFavoritedDiscussion(this.props.userId,j);return Object(s.jsxs)("div",{className:He.a.constraintWidth,children:[Object(s.jsx)(Ae.a,{children:Object(s.jsx)("title",{children:"".concat(_," | ReForum")})}),Object(s.jsx)(Xn,{id:h,userAvatar:O,userName:x,userGitHandler:x,discTitle:_,discDate:m,discContent:f,tags:b,favoriteCount:j.length,favoriteAction:o,userFavorited:S,toggleingFavorite:a,allowDelete:C,deletingDiscussion:p,deleteAction:this.deleteDiscussion.bind(this)}),l&&Object(s.jsx)("div",{className:rs.a.errorMsg,children:l}),y&&y.map((function(t){return Object(s.jsx)(ss,{opinionId:t._id,userName:t.user.username,userGitHandler:t.user.username,opDate:t.date,opContent:t.content,userId:t.user_id,currentUserId:e.props.userId,currentUserRole:e.props.userRole,deleteAction:e.deleteOpinion.bind(e),deletingOpinion:d},t._id)})),!n&&Object(s.jsx)("div",{className:rs.a.signInMsg,children:"Please sign in to post a reply."}),n&&Object(s.jsx)("div",{style:{marginTop:"30px"},children:Object(s.jsx)($n,{posting:u,onSubmit:this.handleReplySubmit.bind(this),onChange:function(e){c(e)}})})]})}}]),n}(i.Component),as=Object(u.b)((function(e){return{forums:e.app.forums,userAuthenticated:e.user.authenticated,userId:e.user._id,userRole:e.user.role,fetchingDiscussion:e.discussion.fetchingDiscussion,toggleingFavorite:e.discussion.toggleingFavorite,deletingDiscussion:e.discussion.deletingDiscussion,deletedDiscussion:e.discussion.deletedDiscussion,opinionContent:e.discussion.opinionContent,postingOpinion:e.discussion.postingOpinion,opinionError:e.discussion.opinionError,deletingOpinion:e.discussion.deletingOpinion,discussion:e.discussion.discussion,error:e.discussion.error}}),(function(e){return{getDiscussion:function(t){e(Pn(t))},toggleFavorite:function(t){e(Bn(t))},updateOpinionContent:function(t){e({type:G,payload:t})},postOpinion:function(t,n){e(Tn(t,n))},deletePost:function(t){e(An(t))},deletedDiscussionRedirect:function(){e((function(e,t){e({type:ee})}))},deleteOpinion:function(t,n){e(En(t,n))}}}))(os),cs=n(30),us=n.n(cs),ls=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){var e;return Object(Me.a)(this,n),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(Pe.a)(n,[{key:"render",value:function(){var e="".concat(us.a.controlButton);return this.props.active&&(e+=" ".concat(us.a.controlButtonActive)),Object(s.jsx)("div",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),n}(r.a.Component),ds=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onToggle,n=e.editorState,i=(e.type,n.getSelection()),r=n.getCurrentContent().getBlockForKey(i.getStartKey()).getType();return Object(s.jsx)("div",{className:us.a.controls,children:[{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"Blockquote",style:"blockquote"},{label:"Code Block",style:"code-block"}].map((function(e){return Object(s.jsx)(ls,{onToggle:t,active:e.style===r,label:e.label,style:e.style},e.label)}))})}}]),n}(i.Component),ps=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onToggle,n=e.editorState.getCurrentInlineStyle();return Object(s.jsx)("div",{className:us.a.controls,children:[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Monospace",style:"CODE"}].map((function(e){return Object(s.jsx)(ls,{onToggle:t,active:n.has(e.style),label:e.label,style:e.style},e.label)}))})}}]),n}(i.Component),gs=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={editorState:Rn.EditorState.createEmpty()},s.focus=function(){return s.refs.editor.focus()},s.onEditorStateChange=s.onEditorStateChange.bind(Object(qe.a)(s)),s.handleKeyCommand=s.handleKeyCommand.bind(Object(qe.a)(s)),s.onTab=s.onTab.bind(Object(qe.a)(s)),s.toggleBlockType=s.toggleBlockType.bind(Object(qe.a)(s)),s.toggleInlineStyle=s.toggleInlineStyle.bind(Object(qe.a)(s)),s}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.value;if(e){var t=Object(Rn.convertFromRaw)(JSON.parse(e)),n=Rn.EditorState.createWithContent(t);this.setState({editorState:n})}}},{key:"onEditorStateChange",value:function(e){var t=this.props.onChange;this.setState({editorState:e}),t(JSON.stringify(Object(Rn.convertToRaw)(e.getCurrentContent())))}},{key:"handleKeyCommand",value:function(e){var t=Rn.RichUtils.handleKeyCommand(this.state.editorState,e);return!!t&&(this.onEditorStateChange(t),!0)}},{key:"onTab",value:function(e){this.onEditorStateChange(Rn.RichUtils.onTab(e,this.state.editorState,4))}},{key:"toggleBlockType",value:function(e){this.onEditorStateChange(Rn.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"toggleInlineStyle",value:function(e){this.onEditorStateChange(Rn.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"customBlockStyles",value:function(e){var t=e.getType();return"blockquote"===t?us.a.editorBlockquoteStyle:"code-block"===t?us.a.editorCodeStyle:"header-one"===t?us.a.editorH1Style:"header-two"===t?us.a.editorH2Style:"header-three"===t?us.a.editorH3Style:void 0}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.onSave,i=e.readOnly,r="";"newOpinion"===t&&(r="Reply"),"newDiscussion"===t&&(r="Post Discussion");var o="";return"newOpinion"===t&&(o="Your opinion..."),"newDiscussion"===t&&(o="Discussion summary..."),Object(s.jsxs)("div",{className:Ue()(us.a.container,i&&us.a.readOnlyContainer),children:[!i&&Object(s.jsxs)("div",{className:us.a.controlsContainer,children:[Object(s.jsx)(ps,{type:t,editorState:this.state.editorState,onToggle:this.toggleInlineStyle}),Object(s.jsx)(ds,{type:t,editorState:this.state.editorState,onToggle:this.toggleBlockType})]}),Object(s.jsx)("div",{className:Ue()(us.a.editorContainer,!i&&us.a[t],i&&us.a.readOnlyEditorContainer),onClick:this.focus,children:Object(s.jsx)(Rn.Editor,{customStyleMap:{CODE:{color:"#e74c3c",backgroundColor:"#f9f9f9",border:"1px solid #e8e8e8",fontFamily:"monospace",padding:"2px 5px",margin:"0px 5px"}},blockStyleFn:this.customBlockStyles,readOnly:i,editorState:this.state.editorState,onChange:this.onEditorStateChange,placeholder:o,handleKeyCommand:this.handleKeyCommand,onTab:this.onTab,ref:"editor"})}),!i&&Object(s.jsx)(Ze,{noUppercase:!0,style:{alignSelf:"center"},onClick:n,children:r})]})}}]),n}(i.Component);gs.defaultProps={readOnly:!1,value:null,type:"newDiscussion",onChange:function(){},onSave:function(){}};var hs=n(119),fs=n.n(hs),ms=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={value:!1},s}return Object(Pe.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;this.setState({value:t})}},{key:"updateValue",value:function(e){this.props.onChange(e),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=this.state.value;return Object(s.jsxs)("div",{className:fs.a.container,children:[Object(s.jsx)("div",{className:fs.a.label,children:"Is it a pinned discussion?"}),Object(s.jsxs)("div",{className:fs.a.btnContainer,children:[Object(s.jsx)(Ze,{alwaysActive:!!t,onClick:function(){e.updateValue(!0)},children:"Yes"}),Object(s.jsx)(Ze,{alwaysActive:!t,onClick:function(){e.updateValue(!1)},children:"No"})]})]})}}]),n}(i.Component);ms.defaultProps={onChange:function(e){},value:!1};var js=ms,_s=n(150),bs=n(66),ys=n.n(bs),vs=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={errorMsg:null,tags:[],tagName:""},s}return Object(Pe.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;this.setState({tags:t,errorMsg:null})}},{key:"validateTag",value:function(e){return/^[a-z0-9.\-_$@*!]{4,20}$/.test(e)}},{key:"sameTag",value:function(e){var t=this.state.tags,n=!1;return t.map((function(t){t===e&&(n=!0)})),n}},{key:"addTag",value:function(){var e=this.state,t=e.tagName,n=e.tags;e.errorMsg;if(this.validateTag(t))if(this.sameTag(t))this.setState({errorMsg:"Same tag!!!"});else{var s=n.concat(t);this.setState({tags:s,errorMsg:null,tagName:""}),this.props.onChange(s)}else this.setState({errorMsg:"Tags can only contain small letters and numbers. No space or special characters please. Min 4 and max 20 chars."})}},{key:"removeTag",value:function(e){var t=this.state.tags,n=[].concat(Object(_s.a)(t.slice(0,e)),Object(_s.a)(t.slice(e+1,t.length)));this.setState({tags:n}),this.props.onChange(n)}},{key:"renderTags",value:function(){var e=this;return this.state.tags.map((function(t,n){return Object(s.jsx)(mn,{name:t,withRemove:!0,removeAction:function(){e.removeTag(n)}},t)}))}},{key:"renderInput",value:function(){var e=this,t=this.state,n=t.tagName,i=t.tags,r=this.props.maxTagCount;return i.length<r?Object(s.jsxs)("div",{className:ys.a.inputContainer,children:[Object(s.jsx)("input",{className:ys.a.tagInput,placeholder:"tag name...",value:n,onChange:function(t){e.setState({tagName:t.target.value})}}),Object(s.jsx)(Ze,{className:ys.a.addButton,onClick:function(){e.addTag()},children:Object(s.jsx)(Cn.a,{color:"primary",fontSize:"small"})})]}):null}},{key:"render",value:function(){var e=this.state,t=e.errorMsg;e.tagName,e.tags,this.props.maxTagCount;return Object(s.jsxs)("div",{className:ys.a.container,children:[Object(s.jsxs)("div",{className:ys.a.tagContainer,children:[Object(s.jsx)("div",{className:ys.a.label,children:"Tags :"}),this.renderTags(),this.renderInput()]}),t&&Object(s.jsx)("div",{className:ys.a.errorMsg,children:t})]})}}]),n}(i.Component);vs.defaultProps={value:[],maxTagCount:3,onChange:function(e){}};var Os=vs,xs=function(e,t,n){return function(s,i){s({type:re});var r=i().newDiscussion,o=r.title,a=r.content,u=r.tags,l=r.pinned,d=!0;return e&&t?null===o||o.length<8?(d=!1,s({type:ae,payload:"Title should be at least 8 characters."})):null===a||0===a.length?(d=!1,s({type:ae,payload:"Please write some content before posting."})):void(d&&function(e){var t=$e.get("token");return Ge.a.post(Ke+"/api/discussion/newDiscussion",e,{headers:{Authorization:"bearer ".concat(t)}})}({userId:e,forumId:t,title:o,content:a,tags:u,pinned:l}).then((function(e){!0===e.data.postCreated?(s({type:oe}),setTimeout((function(){s({type:pe})}),2e3),c.g.push("/".concat(n,"/discussion/").concat(e.data.discussion_slug))):s({type:ae,payload:"Something is wrong at our server end. Please try again later"})}),(function(e){s({type:ae,payload:e})}))):(d=!1,s({type:ae,payload:"Something is wrong with user/forum."}))}},Cs=n(52),Ss=n.n(Cs),ks=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(e){var s;return Object(Me.a)(this,n),(s=t.call(this,e)).state={forumId:null,userId:null,fatalError:null},s}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,n=e.currentForum,s=e.forums;this.setUserAndForumID(t,s,n)}},{key:"componentWillReceiveProps",value:function(e){var t=e.user,n=e.currentForum,s=e.forums;this.setUserAndForumID(t,s,n)}},{key:"setUserAndForumID",value:function(e,t,n){var s=dt.a.find(t,{forum_slug:n});if(s){var i=s._id;this.setState({forumId:i,userId:e._id})}else this.setState({fatalError:"Invalid forum buddy, go for the right one!"})}},{key:"renderEditor",value:function(){var e=this.props.user,t=e.authenticated,n=e.role,i=this.props,r=i.updateDiscussionTitle,o=i.updateDiscussionContent,a=i.updateDiscussionPinStatus,c=i.updateDiscussionTags,u=i.postDiscussion,l=i.currentForum,d=this.props.newDiscussion,p=d.title,g=d.content,h=d.tags,f=d.pinned,m=this.state,j=m.forumId,_=m.userId;return t?[Object(s.jsx)("input",{type:"text",className:Ss.a.titleInput,placeholder:"Discussion title...",value:p,onChange:function(e){r(e.target.value)}},"title"),"admin"===n&&Object(s.jsx)(js,{value:f,onChange:function(e){a(e)}},"pinned"),Object(s.jsx)(Os,{value:h,onChange:function(e){c(e)}},"tags"),Object(s.jsx)(Gn,{type:"newDiscussion",value:g,onChange:function(e){o(e)},onSave:function(){u(_,j,l)}},"content")]:Object(s.jsx)("div",{className:Ue()(He.a.constraintWidth,Ss.a.signInMsg),children:"Please sign in before posting a new discussion."})}},{key:"render",value:function(){var e=this.state.fatalError;if(e)return Object(s.jsx)("div",{className:Ue()(Ss.a.errorMsg,Ss.a.fatalError),children:e});var t=this.props.currentForum,n=this.props.newDiscussion,i=n.errorMsg,r=n.postingSuccess,o=n.postingDiscussion;return Object(s.jsxs)("div",{className:Ue()(He.a.constraintWidth,Ss.a.content),children:[Object(s.jsx)(Ae.a,{children:Object(s.jsx)("title",{children:"ReForum | New Discussion"})}),Object(s.jsxs)("div",{className:Ss.a.forumInfo,children:["You are creating a new discussion on ",Object(s.jsx)("span",{className:Ss.a.forumName,children:t})," forum."]}),Object(s.jsx)("div",{className:Ss.a.errorMsg,children:i}),r&&Object(s.jsx)("div",{className:Ss.a.successMsg,children:"Your discussion is created :-)"}),this.renderEditor(),o&&Object(s.jsx)("div",{className:Ss.a.postingMsg,children:"Posting discussion..."})]})}}]),n}(i.Component),Ns=Object(u.b)((function(e){return{user:e.user,forums:e.app.forums,currentForum:e.app.currentForum,newDiscussion:e.newDiscussion}}),(function(e){return{postDiscussion:function(t,n,s){e(xs(t,n,s))},updateDiscussionTitle:function(t){e(function(e){return{type:ce,payload:e}}(t))},updateDiscussionContent:function(t){e(function(e){return{type:ue,payload:e}}(t))},updateDiscussionPinStatus:function(t){e(function(e){return{type:le,payload:e}}(t))},updateDiscussionTags:function(t){e(function(e){return{type:de,payload:e}}(t))}}}))(ks),Fs=n(120),ws=n.n(Fs),Ds=n(102),Is=n.n(Ds),Ms=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name;e.gitHandler,e.location,e.avatarUrl;return Object(s.jsxs)("div",{className:Is.a.container,children:[Object(s.jsx)("div",{className:Is.a.avatarContainer}),Object(s.jsx)("div",{className:Is.a.infoContainer,children:Object(s.jsx)("div",{className:Is.a.name,children:t})})]})}}]),n}(i.Component);Ms.defaultProps={name:"Hello World",gitHandler:"helloWorld",location:"Somewhere in the world",avatarUrl:"https://google.com"};var Ps=Ms,Bs=function(e){return function(t,n){t({type:Se}),function(e){return Ge.a.get(Ke+"/api/user/profile/".concat(e))}(e).then((function(e){e.data.error?t({type:Ne}):t({type:ke,payload:e.data})}),(function(e){return t({type:Ne})}))}},Ts=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchUserProfile)(this.props.params.username)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.params.username,n=e.params.username;t!==n&&(0,this.props.fetchUserProfile)(n)}},{key:"render",value:function(){var e=this.props,t=e.fetchingProfile,n=e.profile,i=e.error;if(i)return Object(s.jsx)("div",{className:ws.a.errorMsg,children:i});n.name;var r=n.username,o=(n.avatarUrl,n.github,n.discussions);return t?Object(s.jsx)("div",{className:Ue()(He.a.constraintWidth,ws.a.loadingMsg),children:"Loading users profile ..."}):Object(s.jsxs)("div",{className:Ue()(He.a.constraintWidth,ws.a.container),children:[Object(s.jsx)(Ae.a,{children:Object(s.jsx)("title",{children:"".concat(r," | ReForum")})}),Object(s.jsxs)("div",{className:He.a.primaryContent,children:[Object(s.jsx)(Ps,{name:r,gitHandler:r}),Object(s.jsx)(yn,{userProfile:!0,type:"general",discussions:o})]})]})}}]),n}(i.Component),As=Object(u.b)((function(e){return{fetchingProfile:e.userProfile.fetchingProfile,profile:e.userProfile.profile,error:e.userProfile.error}}),(function(e){return{fetchUserProfile:function(t){e(Bs(t))}}}))(Ts),Es=function(e){Object(Be.a)(n,e);var t=Object(Te.a)(n);function n(){return Object(Me.a)(this,n),t.apply(this,arguments)}return Object(Pe.a)(n,[{key:"render",value:function(){return Object(s.jsx)("h3",{children:"Coudn't found the url buddy. Please check it out."})}}]),n}(i.Component);a.a.render(Object(s.jsx)(u.a,{store:Ie,children:Object(s.jsxs)(c.e,{history:c.g,children:[Object(s.jsx)(c.d,{path:"/admin",component:Lt,children:Object(s.jsx)(c.b,{component:en})}),Object(s.jsxs)(c.d,{path:"/",component:Pt,children:[Object(s.jsx)(c.b,{component:Dn}),Object(s.jsx)(c.d,{path:":forum",component:Dn}),Object(s.jsx)(c.d,{path:":forum/discussion/:discussion",component:as}),Object(s.jsx)(c.d,{path:":forum/new_discussion",component:Ns}),Object(s.jsx)(c.d,{path:"user/:username",component:As}),Object(s.jsx)(c.d,{path:"*",component:Es})]})]})}),document.getElementById("root"))},47:function(e,t,n){e.exports={borderColor:"#e8e8e8",backShade:"#f9f9f9",secondaryFontColor:"#999",primaryFontColor:"#000",container:"styles_container__32pJc",header:"styles_header__3J5NH",title:"styles_title__2Y61y",sortList:"styles_sortList__2rXSh",sort:"styles_sort__3D7NS",posts:"styles_posts__1-s97",loading:"styles_loading__1bTWC",sortActive:"styles_sortActive__24emR"}},48:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",borderColor:"#e8e8e8",backShade:"#f9f9f9",smallBP:"(max-width: 768px)",container:"styles_container__25cCp",title:"styles_title__2Dmzm",titleBottomMargin:"styles_titleBottomMargin__3rIFu",posterInfo:"styles_posterInfo__3oBbo",name:"styles_name__3PGrd",gitHandler:"styles_gitHandler__2ES-g",gitIcon:"styles_gitIcon__1DsEu",boxFooter:"styles_boxFooter__2cYMq",tagsArea:"styles_tagsArea__3Qtio",postInfo:"styles_postInfo__1uC7a",info:"styles_info__6KI_V"}},52:function(e,t,n){e.exports={largeBP:"(min-width: 1100px)",borderColor:"#e8e8e8",secondaryFontColor:"#999",content:"styles_content__2Nmvw",forumName:"styles_forumName__uzX5Z",errorMsg:"styles_errorMsg__2w1XB",fatalError:"styles_fatalError__3zdgV",titleInput:"styles_titleInput__3uZzz",signInMsg:"styles_signInMsg__3lyFR",postingMsg:"styles_postingMsg__3AiQY"}},56:function(e,t,n){e.exports={borderColor:"#e8e8e8",secondaryFontColor:"#999",primaryFontColor:"#000",smallBP:"(max-width: 768px)",container:"styles_container__21dUI",deletingOpinion:"styles_deletingOpinion__1lDZU",infoContainer:"styles_infoContainer__2SFMV",avatar:"styles_avatar__15s9p",userInfo:"styles_userInfo__3ztqE",name:"styles_name__2d2SU",gitIcon:"styles_gitIcon__23hda",dateInfo:"styles_dateInfo__1vOgs",deleteButton:"styles_deleteButton__2kDjp",trashIcon:"styles_trashIcon__1ur69",opContent:"styles_opContent__1j_g7",commentFooter:"styles_commentFooter__3sI7Q",favoriteButton:"styles_favoriteButton__2g-b4"}},66:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",borderColor:"#e8e8e8",smallBP:"(max-width: 768px)",container:"styles_container__32Xnc",tagContainer:"styles_tagContainer__2dSQH",label:"styles_label__VDnFc",inputContainer:"styles_inputContainer__3_xcz",tagInput:"styles_tagInput__h5VmN",addButton:"styles_addButton__HIOas",errorMsg:"styles_errorMsg__2wRfh"}},74:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",borderColor:"#e8e8e8",smallBP:"(max-width: 768px)",mediumBP:"(min-width: 769px) and (max-width: 1099px)",largeBP:"(min-width: 1100px)",container:"styles_container__2VrVc",userAvatar:"styles_userAvatar__2vXv3",title:"styles_title__34I9J",signInLink:"styles_signInLink__2UOrB",signInBtn:"styles_signInBtn__i6vUD",subMenu:"styles_subMenu__34-nj",subMenuItem:"styles_subMenuItem__296M2",subMenuClose:"styles_subMenuClose__3RTt0",gitLoginBtn:"styles_gitLoginBtn__2GBjR",subMenuOcto:"styles_subMenuOcto__tZuwE","components-form-demo-normal-login":"styles_components-form-demo-normal-login__1kOM5","login-form":"styles_login-form__3eDrR","login-form-forgot":"styles_login-form-forgot__2p9gi","login-form-button":"styles_login-form-button__2Lw4j"}},75:function(e,t,n){e.exports={borderColor:"#e8e8e8",secondaryFontColor:"#999",primaryFontColor:"#000",buttonDefaults:"styles_buttonDefaults__1QRJm",default:"styles_default__3CPQt",outline:"styles_outline__1PHNI",fullWidth:"styles_fullWidth__1ADux",noUppercase:"styles_noUppercase__2neB_",alwaysActive:"styles_alwaysActive__2NAsy"}},83:function(e,t,n){e.exports={loadingWrapper:"styles_loadingWrapper__NmPUI",gitForkTag:"styles_gitForkTag__3BRMD",gitLink:"styles_gitLink__2E02T"}},88:function(e,t,n){e.exports={primaryFontColor:"#000",secondaryFontColor:"#999",borderColor:"#e8e8e8",smallBP:"(max-width: 768px)",navigationBar:"styles_navigationBar__NoDIb",links:"styles_links__3qIAB",linkActive:"styles_linkActive__PswvT"}},89:function(e,t,n){e.exports={smallBP:"(max-width: 768px)",container:"styles_container__3Pr7e",countsContainer:"styles_countsContainer__2Snmx",loadingMsg:"styles_loadingMsg__2qinY",errorMsg:"styles_errorMsg__2Br2I"}},90:function(e,t,n){e.exports={borderColor:"#e8e8e8",secondaryFontColor:"#999",primaryFontColor:"#000",backShade:"#f9f9f9",smallBP:"(max-width: 768px)",container:"styles_container__3Vaxm",readOnlyContainer:"styles_readOnlyContainer__3cmyS",editorContainer:"styles_editorContainer__2_cLj",readOnlyEditorContainer:"styles_readOnlyEditorContainer__3T9pa",buttonClass:"styles_buttonClass__L8Dok",newDiscussion:"styles_newDiscussion__3za6e",controlsContainer:"styles_controlsContainer__1d7zc",controls:"styles_controls__3_NSH",controlButton:"styles_controlButton__xQEh_",controlButtonActive:"styles_controlButtonActive__2V2vm",editorBlockquoteStyle:"styles_editorBlockquoteStyle__3xZMT",editorCodeStyle:"styles_editorCodeStyle__2XA7r",editorH1Style:"styles_editorH1Style__2a_e5",editorH2Style:"styles_editorH2Style__CxWPe",editorH3Style:"styles_editorH3Style__1JJ1e"}}},[[394,1,2]]]);
//# sourceMappingURL=main.53481cc2.chunk.js.map